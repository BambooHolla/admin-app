<ion-header class="color-primary home-header">
	<ion-navbar>
		<ion-title>历史成交记录</ion-title>
	</ion-navbar>
	<!-- <div class="hdbg header-with-bg">
		<ion-navbar>
			<ion-title>历史成交记录</ion-title>
		</ion-navbar>
		<div class="histime">
			<ion-item>
				<ion-datetime cancelText="取消" doneText="确定" placeholder="2015-01-04" displayFormat="YYYY-MM-DD" [(ngModel)]="myDate">2015-01-04</ion-datetime>
			</ion-item>
			<ion-icon name="swap" ios color="#fff" class="vertical-center"></ion-icon>
			<ion-item>
				<ion-datetime cancelText="取消" doneText="确定" placeholder="2015-07-04" displayFormat="YYYY-MM-DD" [(ngModel)]="myDates"></ion-datetime>
			</ion-item>
		</div>
		<smoothline-component [echartsData]="smoothlinedata"></smoothline-component>
	</div> -->
	<div class="comsub">
		<ion-row center text-center>
			<ion-col>成交时间</ion-col>
			<ion-col>成交价</ion-col>
			<ion-col>成交量</ion-col>
			<ion-col>成交额</ion-col>
		</ion-row>
	</div>
</ion-header>
<ion-content no-bounce class="bg-darker">
	<!-- <div class="bg-blue"></div> -->
	<!--<loop-slides-component></loop-slides-component>-->
	<!-- <div class="spanfixed"></div> -->
	<!-- <loop-slides-beta></loop-slides-beta> -->
	<!-- <div class="footer-data">03/12</div> -->

	<ion-spinner name="ios" *ngIf="initing"></ion-spinner>
	<!--下拉刷新-->
	<ion-refresher (ionRefresh)="initData($event)">
		<ion-refresher-content refreshingText="正在刷新...">
		</ion-refresher-content>
	</ion-refresher>

	<div class="no-entrust" *ngIf="!entrusts || entrusts.length == 0">没有成交的委托单</div>
	<ion-row *ngFor="let item of entrusts" align-items-center class="list-item">
		<ion-col>
			<div class="name">{{item.productId | productId2name | async}}/{{item.priceId | productId2name | async}}</div>
			<span>{{item.updatedTime | date:'yyyy-MM-dd HH:mm:ss'}}</span>
		</ion-col>
		<ion-col>
			{{item.completePrice | number:'1.0-4'}}
		</ion-col>
		<ion-col>
			{{item.completeAmount |quantityConversion}}
		</ion-col>
		<ion-col>
			<div class="type" 
				[class.buy]="item.operationType == '001'" 
				[class.sale]="item.operationType == '002'"
			>
				{{
					item.operationType == '001'? '买': 
					item.operationType == '002'? '卖':''
				}}
			</div>
			{{item.completeTotalPrice |quantityConversion}}
		</ion-col>
	</ion-row>

	<!--加载更多-->
	<ion-infinite-scroll [enabled]="hasMore" (ionInfinite)="loadMoreHistory($event)">
		<ion-infinite-scroll-content loadingText="正在加载...">
		</ion-infinite-scroll-content>
	</ion-infinite-scroll>

</ion-content>