<!--
  Generated template for the AddressAssetListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{product?.productName}}:{{addressInfo?.addressName}}</ion-title>
  </ion-navbar>
 <!-- 总资产 -->
 <div class="assets">
    <div class="assets-logo">
        <img src="assets/imgs/{{product?.productName | lowercase}}-logo.png">
    </div>
    <div class="assets-message"><span>总资产</span></div>
    <div class="assets-total">{{addressInfo?.addressBalance | numberDecimal}}</div>
    <div class="assets-rate">≈ "接口暂无" <span class="unit">CNY</span></div>
    <div class="assets-address" (click)="copyAddress(addressInfo?.rechargeWithdrawAddress)">
      <picasso-icon name="picasso-bj-account"></picasso-icon> 
      {{addressInfo?.rechargeWithdrawAddress}}
    </div>
</div>

<ion-grid class="operate">
  <!-- 资产类型 -->
  <ion-row class="type">
    <ion-col (click)="checkType(item,i)" *ngFor="let item of typeArr,let i = index" [class.action]="selectTypeIndex == i">
      <div class="name">
        {{item.name}}
  </div>
      <div class="bottom-line" [hidden]="selectTypeIndex != i"></div>
    </ion-col>
  </ion-row>
</ion-grid>
</ion-header>


<ion-content>
    <div *ngIf="!selectTypeAddressAssetList || selectTypeAddressAssetList.length == 0" class="tip">
        暂无数据  
    </div>
    <ion-list class="address-group">
        <ion-item  *ngFor="let address of selectTypeAddressAssetList" class="address-item" (click)="routeTo('page-address-asset-details',{address:address, product:product})">
          <ion-avatar item-start class="product-logo">
             
            <ng-container [ngSwitch]="address?.transType">
                <picasso-icon *ngSwitchCase="'001'" name="picasso-asset-in" class="success"></picasso-icon>
                <picasso-icon *ngSwitchCase="'002'" name="picasso-asset-out" class="warning"></picasso-icon>
                <!-- <picasso-icon *ngSwitchCase="3" name="picasso-asset-fail" class="error"></picasso-icon> -->
            </ng-container>
          </ion-avatar>
          <div class="item-header">
            <div class="item-header-title">
              {{address?.transAmount}} <span class="unit">{{product?.productName}}</span>
            </div>
            <div class="item-header-total">
              {{address?.transFee}}
            </div>
          </div>
          <div class="address-item-body">
            <div class="overflow-ellipsis item-body-address">
              {{address?.address}}
            </div>
            <div class="item-body-date">
              {{address?.transDate | date:"yyyy-MM-dd"}}
            </div>
          </div>
        </ion-item>
      </ion-list>

    <!-- 加载更多 -->
    <ion-infinite-scroll [enabled]="hasMore" (ionInfinite)="loadMoreAssets($event)">
        <ion-infinite-scroll-content loadingText="">
        </ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
