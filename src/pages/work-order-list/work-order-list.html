<!--
  Generated template for the WorkOrderListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <div class="hdbg header-with-bg" [class.bg-color-dark-alpha]="!(hide_loading_and_use_welcome&&show_welcome)">
        <ion-navbar>
            <ion-title>我的工单</ion-title>
        </ion-navbar>
    </div>
</ion-header>
<ion-content no-bounce>
    <div *ngIf="hide_loading_and_use_welcome" class="welcome" [class.show-welcome]="show_welcome">
        <div class="bg-image-cover"></div>
        <div class="bg-image"></div>
        <div class="title">欢迎咨询</div>
        <div class="sub-title">任何问题为您解答</div>
        <div class="sub-title-decoration"></div>
    </div>
    <div class="order-list">
        <div class="order-item" *ngFor="let work_order of work_order_list" (click)="routeToWorkOrderDetail(work_order)">
            <div class="base-info">
                <div class="category">
                    <ali-icon name="icon-financial-problems"></ali-icon>
                    {{work_order.typeDetail}}
                </div>
                <div class="time">
                    <ali-icon name="icon-time-3-clock"></ali-icon>
                    {{work_order.submitDateTime|date:"y.M.d"}}
                </div>
            </div>
            <div class="detail">
                <div class="question">{{work_order.content}}</div>
                <div class="status">{{work_order.statusDetail}}</div>
            </div>
        </div>
        <ion-infinite-scroll (ionInfinite)="$event.waitFor(loadMoreWorkOrderList($event))" [enabled]="hasMore">
            <ion-infinite-scroll-content></ion-infinite-scroll-content>
        </ion-infinite-scroll>
    </div>
</ion-content>
<ion-footer>
    <button (click)="routeTo('work-order-add')" [class.with-welcome-page-ani]="hide_loading_and_use_welcome&&show_welcome" ion-button class="new-work-order" color="special">提交工单</button>
</ion-footer>